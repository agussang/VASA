<h2>Rekapitulasi Kinerja Petugas Pandu</h2>

<hr>

<form class="form-horizontal" name="PerencanaanNew">
  <div class="form-group">
    <label class="col-sm-offset-3 col-sm-2 control-label">Tgl. Pandu</label>
    <div class="col-sm-2">
      <span id="kinerja" class="input-group date" style="width:150px;">
        <input type="text" ng-model="search.tglFilter" date="search.tglFilter" ng-change="loadLaporanBulanan()" class="form-control bootstrap-datepicker"
          options="options" readonly>
        <span class="input-group-addon">
          <span class="fa fa-calendar"></span>
        </span>
      </span>
    </div>
    <div class="col-sm-2">
      <label style="padding-top: 5px;">{{currentMonth}}</label>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-4 col-sm-8">
      <button class="btn btn-primary btn-lg btn-exportPDF" ng-click="generatePdf()">Ekspor PDF
        <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
      </button>
      <button class="btn btn-primary btn-lg btn-exportPDF" ng-click="generateExcel()">Ekspor Excel
        <i class="fa fa-file-excel-o" aria-hidden="true"></i>
      </button>
      <button class="btn btn-primary btn-lg btn-exportPDF" ng-show="isRegional()" ng-click="generateExcelRegional()">Ekspor Excel Regional
        <i class="fa fa-file-excel-o" aria-hidden="true"></i>
      </button>
    </div>
  </div>
</form>

<div id="rekapitulasi-kinerja" class="col-sm-12" style="display:inline-flex; width:100%">
  <table class="table table-bordered table-report">
    <thead>
      <tr ng-hide="true">
        <th colspan="10">
            <label>REKAPITULASI KINERJA PETUGAS PANDU PT PELABUHAN INDONESIA III
            <span>{{currentCabang}}
              <span></label>
        </th>
      </tr>
      <tr ng-hide="true">
        <th colspan="10">
          <label>BULAN
          <span>{{currentMonth}}</span></label>
        </th>
      </tr>
      <tr ng-hide="true">
        <th colspan="10">

        </th>
      </tr>
      <tr>
        <th class="text-center valign" rowspan="2">No</th>
        <th class="text-center valign" rowspan="2">NAMA</th>
        <th class="text-center valign" rowspan="2">NIP</th>
        <th class="text-center valign" rowspan="2">KELAS JABATAN</th>
        <th class="text-center valign" rowspan="2">BERTUGAS TMT</th>
        <th class="text-center valign" colspan="2">PRODUKSI</th>
        <th class="text-center valign" rowspan="2">JUMLAH KECELAKAAN</th>
        <th class="text-center valign" rowspan="2">JENIS KECELAKAAN</th>
        <th class="text-center valign" rowspan="2">KETERANGAN</th>
      </tr>
      <tr>
        <th class="text-center valign">GERAKAN</th>
        <th class="text-center valign">GT</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="item in items">
        <td class="text-center valign">{{$index +1}}</td>
        <td class="text-center valign">{{item.nama}}</td>
        <td class="text-center valign">{{item.nip}}</td>
        <td class="text-center valign">{{item.kelasJabatan}}</td>
        <td class="text-center valign">{{item.tglBertugasTmt}}</td>
        <td class="text-center valign">{{item.totalGerakan}}</td>
        <td class="text-center valign">{{item.totalGt}}</td>
        <td class="text-center valign">{{item.jumlahKecelakaan}}</td>
        <td class="text-center valign">{{item.jenisKecelakaan}}</td>
        <td class="text-center valign">{{item.keterangan}}</td>
      </tr>
    </tbody>
  </table>

  </div>

  <div id="rekapitulasi-kinerja-regional" class="col-sm-12" style="display:inline-flex; width:100%" ng-hide="true">
  <table class="table table-bordered table-report">
    <thead>
      <tr ng-hide="true">
        <th colspan="10">
            <label>REKAPITULASI KINERJA PETUGAS PANDU PT PELABUHAN INDONESIA III
            <span>{{currentCabang}}
              <span></label>
        </th>
      </tr>
      <tr ng-hide="true">
        <th colspan="10">
          <label>BULAN
          <span>{{currentMonth}}</span></label>
        </th>
      </tr>
      <tr ng-hide="true">
        <th colspan="10">

        </th>
      </tr>
      <tr>
        <th class="text-center valign" rowspan="2">No</th>
        <th class="text-center valign" rowspan="2">NAMA</th>
        <th class="text-center valign" rowspan="2">NIP</th>
        <th class="text-center valign" rowspan="2">KELAS JABATAN</th>
        <th class="text-center valign" rowspan="2">BERTUGAS TMT</th>
        <th class="text-center valign" colspan="2">PRODUKSI</th>
        <th class="text-center valign" rowspan="2">JUMLAH KECELAKAAN</th>
        <th class="text-center valign" rowspan="2">JENIS KECELAKAAN</th>
        <th class="text-center valign" rowspan="2">KETERANGAN</th>
      </tr>
      <tr>
        <th class="text-center valign">GERAKAN</th>
        <th class="text-center valign">GT</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="item in itemsRegional">
        <td class="text-center valign">{{$index +1}}</td>
        <td class="text-center valign">{{item.nama}}</td>
        <td class="text-center valign">{{item.nip}}</td>
        <td class="text-center valign">{{item.kelasJabatan}}</td>
        <td class="text-center valign">{{item.tglBertugasTmt}}</td>
        <td class="text-center valign">{{item.totalGerakan}}</td>
        <td class="text-center valign">{{item.totalGt}}</td>
        <td class="text-center valign">{{item.jumlahKecelakaan}}</td>
        <td class="text-center valign">{{item.jenisKecelakaan}}</td>
        <td class="text-center valign">{{item.keterangan}}</td>
      </tr>
    </tbody>
  </table>

  </div>

  <hr>

<div class="form-group">
  <div class="col-sm-offset-4 col-sm-8">
    <button class="btn btn-primary btn-lg btn-exportPDF" ng-click="generatePdf()">Ekspor PDF
      <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
    </button>
    <button class="btn btn-primary btn-lg btn-exportPDF" ng-click="generateExcel()">Ekspor Excel
      <i class="fa fa-file-excel-o" aria-hidden="true"></i>
    </button>
    <button class="btn btn-primary btn-lg btn-exportPDF" ng-show="isRegional()" ng-click="generateExcelRegional()">Ekspor Excel Regional
      <i class="fa fa-file-excel-o" aria-hidden="true"></i>
    </button>
  </div>
</div>
<script>
  $('#kinerja').datepicker({
    autoclose: true,
    format: "mm-yyyy",
    viewMode: "months",
    minViewMode: "months",
    language: 'id'
  });
</script>




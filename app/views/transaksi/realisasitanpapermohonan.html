<!-- <br> -->
<div class="row">
	<div class="col-md-6">
		<h2>Realisasi Tanpa Permohonan</h2>
	</div>
	<div class="col-md-6">
		<div class="stepwizard">
			<div class="stepwizard-row setup-panel">
				<div class="stepwizard-step">
					<a type="button" class="btn btn-sm btn-primary btn-circle" disabled="disabled">1</a>
					<p>Permohonan</p>
				</div>
				<div class="stepwizard-step">
					<a type="button" class="btn btn-sm btn-primary btn-circle" disabled="disabled">2</a>
					<p>Perencanaan</p>
				</div>
				<div class="stepwizard-step">
					<a type="button" class="btn btn-sm btn-primary btn-circle" disabled="disabled">3</a>
					<p>Penetapan</p>
				</div>
				<div class="stepwizard-step">
					<a type="button" class="btn btn-sm btn-primary btn-circle">4</a>
					<p>Realisasi</p>
				</div>
				<div class="stepwizard-step">
					<a type="button" class="btn btn-sm btn-primary btn-circle" disabled="disabled">5</a>
					<p>Verifikasi</p>
				</div>
			</div>
		</div>
	</div>
</div>
<br>
<!-- <h2>Realisasi Tanpa Permohonan</h2> -->
<div class="col-sm-4 navbar-right" ng-if="inputTambahJasa == false">
	<p ng-show="showLoader"><span class="spinner spinner-xs spinner-inline"></span> Silahkan tunggu...</p>
	<button class="btn btn-default" ng-click="backToList()"><span class="fa fa-angle-double-left"></span> Kembali ke List</button>
	<button ng-if="editForm == false" class="btn btn-success" ng-show="btnMainSimpan" ng-click="greenBtn()">Simpan Realisasi</button>
</div>
<div class="col-sm-3 navbar-right" ng-if="inputTambahJasa == true">
	<!-- <button class="btn btn-primary btn-lg" ng-if="newJasaSaved == false" ng-click="submitJasaBaru()">Mulai Tambah Jasa</button> -->
	<p ng-show="showLoader"><span class="spinner spinner-xs spinner-inline"></span> Silahkan tunggu...</p>
	<button class="btn btn-primary btn-lg" ng-if="newJasaSaved == false" ng-show="permohonan.id" ng-click="submit()">Mulai Tambah Jasa Realisasi</button>
	<button class="btn btn-success btn-lg" ng-if="newJasaSaved == true" ng-click="greenBtn()" ng-show="btnMainSimpan">Simpan Tambah Jasa Realisasi</button>
</div>
<!-- <br>
<br> -->
<div class="alert {{textAlert.class}}" ng-show="alertShow">
	<span class="pficon {{textAlert.icon}}"></span>
	<strong>{{textAlert.title}}</strong> {{textAlert.desc}}</a>.
</div>
<ul class="nav nav-tabs" role="tablist">
	<li role="presentation" class="menu-jasa aktif active"><a role="tab" data-toggle="tab" class="tablinks" onclick="openTab(event, 'permohonan')">DATA UMUM PERMOHONAN</a></li>
	<li role="presentation" class="menu-jasa tab-labuh" kode-menu="labuh" id="labuhTab"><a role="tab" data-toggle="tab" class="tablinks" onclick="openTab(event, 'labuh')">LABUH</a></li>
	<li role="presentation" class="menu-jasa tab-tambat" kode-menu="tambat" id="tambatTab"><a role="tab" data-toggle="tab" class="tablinks" onclick="openTab(event, 'tambat')">TAMBAT</a></li>
	<li role="presentation" class="menu-jasa tab-pandu" kode-menu="pandu" id="panduTab"><a role="tab" data-toggle="tab" class="tablinks" onclick="openTab(event, 'pandu')">PANDU</a></li>
	<li role="presentation" class="menu-jasa tab-tunda" kode-menu="tunda" id="tundaTab"><a role="tab" data-toggle="tab" class="tablinks" onclick="openTab(event, 'tunda')">TUNDA</a></li>
	<!-- <li role="presentation" class="menu-jasa tab-airkapal" kode-menu="airkapal" id="airkapalTab"><a role="tab" data-toggle="tab" class="tablinks" onclick="openTab(event, 'airkapal')">AIR KAPAL</a></li> -->
</ul>

<div class="tab-content">
	<!-- tab 2 -->
	<div id="labuh" role="tabpanel" class="tab-pane">
		<form class="form-horizontal" name="permohonanLabuhForm">
			<div class="form-group">
				<label class="col-sm-2 control-label" for="no-12"><span class="text-danger">*</span>No. PPK Jasa</label>
				<div class="col-sm-3">
					<input type="hidden" ng-model="indexLabuh">
					<input type="text" class="form-control" placeholder="No. PPK Jasa..." ng-model="jasalabuh.noPpkJasa" readonly>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Lokasi Labuh</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="jasalabuh.lokasi" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaLabuh($viewValue)" data-limit="10" ng-focus="checkValue(jasalabuh.lokasi)" ng-blur="validationLookupLokasiLabuh()"
							required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Waktu Kedatangan</label>
				<div class="col-sm-3">
					<div pf-datepicker id="labuhTglMasuk" options="options" data-date-format="dd-mm-yyyy" date="tglMasuk" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamMasuk">
						<input id="jamMasukVal" type="text" class="form-control" size="8" ng-model="jamMasuk" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1">
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Waktu Keberangkatan</label>
				<div class="col-sm-3">
					<div pf-datepicker id="labuhTglKeluar" options="options" data-date-format="dd-mm-yyyy" date="tglKeluar" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamKeluar">
						<input id="jamKeluarVal" type="text" class="form-control" size="8" ng-model="jamKeluar" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1">
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<!--
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Tgl/Jam Disetujui</label>
				<div class="col-sm-3">
					<div pf-datepicker data-date-format="dd-mm-yyyy" options="options" date="jasalabuh.tglSetuju" id="tglSetuju" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamSetujuLabuh">
						<input id="penetapanLabuhJamSetujuVal" type="text" class="form-control" size="8" ng-model="jasalabuh.jamSetuju" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			-->
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger"></span>Catatan</label>
				<div class="col-sm-7">
					<input type="text" id="catatan" class="form-control" maxlength="50" ng-model="jasalabuh.catatan">
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-7">
					<button type="button" class="btn btn-default" ng-click="resetLabuh()">Reset</button>
					<button type="button" class="btn btn-primary" ng-show="btnLabuhSave" ng-disabled="!permohonanLabuhForm.$valid" ng-if="editForm == false" ng-click="submitLabuhtoGrid()">Simpan</button>
					<button type="button" class="btn btn-primary" ng-show="btnLabuhSave" ng-if="editForm == true" ng-disabled="!permohonanLabuhForm.$valid" ng-click="submitLabuh()">Simpan</button>
				</div>
			</div>
		</form>
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>No. PPK Jasa</th>
					<th>Lokasi Labuh</th>
					<th>Waktu Kedatangan</th>
					<th>Waktu Berangkat</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="itemlabuhPast in jasalabuhgridpast | toArray:false | orderBy : 'noPpkJasa'" ng-show="gridPast">
					<td>{{itemlabuhPast.noPpkJasa}}</td>
					<td>{{itemlabuhPast.namaLokasi}}</td>
					<td>{{itemlabuhPast.tglMasuk|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itemlabuhPast.tglKeluar|date: "dd-MM-yyyy HH:mm"}}</td>
					<td></td>
				</tr>
				<tr ng-repeat="itemlabuh in jasalabuhgrid">
					<td ng-if="itemlabuh.fake == true"><i>No. PPK Jasa</i></td>
					<td ng-if="itemlabuh.fake == false">{{itemlabuh.noPpkJasa}}</td>
					<td>{{itemlabuh.namaLokasi}}</td>
					<td>{{itemlabuh.tglMasuk|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itemlabuh.tglKeluar|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>
						<a aria-hidden="true" style="cursor:pointer" ng-click="editLabuh(itemlabuh.noPpkJasa, $index)" type="button" class="btn btn-default btn-xs" title="Edit" ng-hide="itemlabuh.fake"><span class="fa fa-pencil-square-o"></span></a>
						<a ng-if="itemlabuh.fake == false" style="cursor:pointer" ng-click="deleteLabuh(itemlabuh.noPpkJasa, $index)" aria-hidden="true" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
						<a ng-if="itemlabuh.fake == true" style="cursor:pointer" ng-click="deleteLabuh(null,$index)" aria-hidden="true" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<!-- /tab 2 -->
	<!-- tab 3 -->
	<div id="tambat" role="tabpanel" class="tab-pane">
		<form class="form-horizontal" name="permohonanTambatForm">
			<div class="form-group">
				<label class="col-sm-2 control-label" for="no-12"><span class="text-danger">*</span>No. PPK Jasa</label>
				<div class="col-sm-3">
					<input type="hidden" ng-model="indexTambat">
					<input type="text" class="form-control" placeholder="No. PPK Jasa..." ng-model="jasatambat.noPpkJasa" readonly>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Lokasi Tambat</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="jasatambat.lokasi" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaTambat($viewValue)" data-limit="10" ng-focus="checkValue(jasatambat.lokasi)" ng-blur="validationLookupLokasiTambat()" required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Mulai Tambat pada</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglMulaiTambat" options="options" data-date-format="dd-mm-yyyy" date="tglMulaiTambat" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamMulaiTambat">
						<input id="jamMulaiTambatVal" type="text" class="form-control" size="8" ng-model="jamMulai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1">
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Selesai pada</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglSelesaiTambat" options="options" data-date-format="dd-mm-yyyy" date="tglSelesaiTambat" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamSelesaiTambat">
						<input id="jamSelesaiTambatVal" type="text" class="form-control" size="8" ng-model="jamSelesai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1">
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label"><span class="text-danger">*</span>Kade Meter</label>
				<div class="col-sm-2 display-box">
					<div class="btn-group" style="margin-right: 6px;">
						<label class="btn btn-default danger" ng-model="kodeKade" btn-radio="'-'" style="margin-right: 3px;"><span class="fa fa-arrow-down"></span></label>
						<label class="btn btn-default success" ng-model="kodeKade" btn-radio="'+'"><span class="fa fa-arrow-up"></label>
					</div>
					<input id="kade-awal" class="form-control" type="number" min="0" value="{{jasatambat.kadeAwal}}" ng-change="loaValue()" ng-model="jasatambat.kadeAwal" ng-blur="checkIfNull()">
					<span>s/d</span>
					<input type="text" class="form-control" value="{{jasatambat.kadeAkhir}}" readonly>
					<!-- <input id="penetapanTambatKadeAwal" type="number" min="0" max="{{maxKadeMeter}}" only-num class="form-control" value="{{jasatambat.kadeAwal}}" ng-model="jasatambat.kadeAwal" ng-change="loaValue()" ng-blur="checkIfNull()">
					<span>s/d</span>
					<input type="text" class="form-control" value="{{jasatambat.kadeAkhir}}" readonly> -->
				</div>
			</div>
			<!-- <div class="form-group">
				<label class="col-sm-2 control-label"><span class="text-danger">*</span>Asal Dermaga</label>
				<div class="col-sm-6">
					<select pf-select ng-options="option.value as option.caption for option in asalDermagaTambat" ng-model="jasatambat.asalDermaga" required></select>
				</div>
			</div> -->
			<!--
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Tgl/Jam Disetujui</label>
				<div class="col-sm-3">
					<div pf-datepicker data-date-format="dd-mm-yyyy" options="options" date="jasatambat.tglSetuju" id="tglSetujuTambat" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamSetujuTambat">
						<input id="penetapanTambatJamSetujuVal" type="text" class="form-control" size="8" ng-model="jasatambat.jamSetuju" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
		-->
			<div class="form-group">
				<label class="col-sm-2 control-label"><span class="text-danger">*</span>Status Tambat</label>
				<div class="col-sm-6">
					<select pf-select ng-options="option.value as option.caption for option in statusTambat" ng-model="jasatambat.statusTambat" required></select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Posisi Kapal</label>
				<div class="col-sm-3">
					<select pf-select ng-options="option.value as option.caption for option in posisiKapal" ng-model="jasatambat.posisiKapal" ng-change="optionKapalCharter()" required></select>
				</div>
				<div class="col-sm-3" ng-if="jasatambat.posisiKapal==='3'">
					<input name="kapalTender" type="text" placeholder="Nama Kapal..." class="form-control" ng-model="jasatambat.kapalTender" bs-typeahead bs-options="kapal.mkplNama for kapal in getListKapal($viewValue)" data-limit="10" ng-focus="checkValue(kapal)" ng-blur="validationLookupKapalTender()" required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Menggunakan Rampdoor</label>
				<div class="col-sm-6">
					<label class="radio-inline">
						<input type="radio" name="optradio" ng-model="jasatambat.flagRampdoor" value="1">Ya
					</label>
					<label class="radio-inline">
						<input type="radio" name="optradio"  ng-model="jasatambat.flagRampdoor" value="0">Tidak
					</label>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger"></span>Catatan</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" maxlength="50" ng-model="jasatambat.catatan">
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-7">
					<button type="button" class="btn btn-default" ng-click="resetTambat()">Reset</button>
					<button type="button" class="btn btn-primary" ng-if="editForm == false" ng-disabled="!permohonanTambatForm.$valid" ng-click="submitTambattoGrid()">Simpan</button>
					<button type="button" class="btn btn-primary" ng-if="editForm == true" ng-disabled="!permohonanTambatForm.$valid" ng-click="submitTambat()">Simpan</button>
				</div>
			</div>
		</form>
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>No. PPK Jasa</th>
					<th>Lokasi Tambat</th>
					<th>Mulai Tambat</th>
					<th>Selesai pada</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="itemtambatPast in jasatambatgridpast | toArray:false | orderBy : 'noPpkJasa'" ng-show="gridPast">
					<td>{{itemtambatPast.noPpkJasa}}</td>
					<td>{{itemtambatPast.namaLokasi}}</td>
					<td>{{itemtambatPast.tglMulai|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itemtambatPast.tglSelesai|date: "dd-MM-yyyy HH:mm"}}</td>
					<td></td>
				</tr>
				<tr ng-repeat="itemtambat in jasatambatgrid">
					<td ng-if="itemtambat.fake == true"><i>No. PPK Jasa</i></td>
					<td ng-if="itemtambat.fake == false">{{itemtambat.noPpkJasa}}</td>
					<td>{{itemtambat.namaLokasi}}</td>
					<td>{{itemtambat.tglMulai|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itemtambat.tglSelesai|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>
						<a aria-hidden="true" ng-click="editTambat(itemtambat.noPpkJasa, $index)" style="cursor:pointer" type="button" class="btn btn-default btn-xs" title="Edit" ng-hide="itemtambat.fake"><span class="fa fa-pencil-square-o"></span></a>
						<a ng-if="itemtambat.fake == false" ng-click="deleteTambat(itemtambat.noPpkJasa, $index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
						<a ng-if="itemtambat.fake == true" ng-click="deleteTambat(null, $index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<!-- /tab 3 -->
	<!-- tab 4-->
	<div id="pandu" role="tabpanel" class="tab-pane">
		<form class="form-horizontal" name="permohonanPanduForm">
			<div class="form-group">
				<label class="col-sm-2 control-label" for="no-12"><span class="text-danger">*</span>No. PPK Jasa</label>
				<div class="col-sm-3">
					<input type="hidden" ng-model="indexPandu">
					<input type="text" class="form-control" placeholder="No. PPK Jasa..." ng-model="jasapandu.noPpkJasa" readonly>
				</div>
			</div>
			<div class="form-group" ng-hide="gandengBtn">
				<label class="col-sm-2 control-label" for="nama-11"><span class="text-danger">*</span>Kapal Gandeng</label>
				<div class="col-sm-1">
					<a style="cursor:pointer" data-toggle="modal" data-target="#kplGadengModal" ng-disabled="gandengBtn">Tambah</a>
				</div>
			</div>
			<div class="form-group" ng-hide="gandengBtn">
				<div class="col-sm-offset-2 col-sm-7">
					<table class="table table-striped table-bordered">
						<thead>
							<tr>
					    		<th>No. PPK1</th>
								<th>Kode Kapal</th>
								<th>Nama Kapal</th>
								<th>LOA</th>
								<th>GT</th>
								<th>Negara</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="itemKapal in kapalGandengArray">
					    		<td>{{itemKapal.noPpk1Tongkang}}</td>
								<td>{{itemKapal.kodeKapal}}</td>
								<td>{{itemKapal.namaKapal}}</td>
								<td>{{itemKapal.loa}}</td>
								<td>{{itemKapal.gtKapal}}</td>
								<td>{{itemKapal.negaraKapal}}</td>
								<td>
									<a ng-click="deleteKapalGandengView($index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="itemKapal.id == null"><span class="fa fa-times"></span></a>
									<a ng-click="deleteKapalGandeng(itemKapal.id,$index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="itemKapal.id != null"><span class="fa fa-times"></span></a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Waktu Pandu</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglPandu" options="options" data-date-format="dd-mm-yyyy" date="tglPandu" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamPandu">
						<input id="jamPanduVal" type="text" class="form-control" size="8" ng-model="jamPandu" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1">
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Lokasi Asal Pandu</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="jasapandu.lokasiAsal" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaPandu($viewValue)" data-limit="10" ng-focus="checkValue(jasapandu.lokasiAsal)" ng-blur="validationLookupAsalPandu()"
							required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Lokasi Tujuan Pandu</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="jasapandu.lokasiTujuan" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaPanduTujuan($viewValue)" data-limit="10" ng-focus="checkValue(jasapandu.lokasiTujuan)"
							ng-blur="validationLookupTujuanPandu()" required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Jenis Pandu</label>
				<div class="col-sm-6">
					<select pf-select ng-model="jasapandu.jenisPandu" ng-options='option.value as option.caption for option in jenisPanduOption' required>
					</select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Jenis Gerakan</label>
				<div class="col-sm-6">
					<select pf-select ng-model="jasapandu.jenisGerakan" ng-options='option.value as option.caption for option in jenisGerakanOption' id="jenisGerakan" required>
					</select>
				</div>
			</div>
			<!--
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Tgl/Jam Disetujui</label>
				<div class="col-sm-3">
					<div pf-datepicker data-date-format="dd-mm-yyyy" options="options" date="jasapandu.tglSetuju" id="tglSetujuPandu" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamSetujuPandu">
						<input id="penetapanPanduJamSetujuVal" type="text" class="form-control" size="8" ng-model="jasapandu.jamSetuju" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			-->
			<div class="form-group">
				<label class="col-sm-2 control-label">Menggunakan APBS</label>
				<div class="col-md-6">
					<label class="radio-inline">
						<input type="radio" name="optradio" ng-model="jasapandu.flagApbs" value="1" ng-disabled="rightReadOnly">Ya
					</label>
					<label class="radio-inline">
						<input type="radio" name="optradio" ng-model="jasapandu.flagApbs" value="0" ng-disabled="rightReadOnly">Tidak
					</label>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Petugas</label>
				<div class="col-sm-6">
					<input type="text" id="lokasiasalpandu" class="form-control" ng-model="jasapandu.namaPandu" bs-typeahead bs-options="sdmkapal.mpegNamaNip for sdmkapal in getListOfSDMKapal($viewValue)" data-limit="10" ng-focus="checkValue(jasapandu.namaPandu)" ng-blur="validationLookupPetugas()" required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger"></span>Kapal Pandu</label>
				<div class="col-sm-6">
					<input type="text" id="kapalpandu" class="form-control" ng-model="jasapandu.kapalPandu" bs-typeahead bs-options="alatapung.nama for alatapung in getListOfAlatApungPandu($viewValue)" ng-focus="checkValue(jasapandu.kapalPandu)" ng-blur="validationLookupKapalPandu()">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Jenis Kepentingan</label>
				<div class="col-sm-6">
					<select pf-select ng-model="jasapandu.jenisKep" ng-options='option.value as option.caption for option in jenisKepentingan' required></select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger"></span>Keterangan Kepentingan</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="jasapandu.keteranganKep" maxlength="50">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label">Kendala Operasional</label>
				<div class="col-sm-6">
					<select pf-select ng-model="realisasipandu.kendalaOperasional" ng-options='option.value as option.caption for option in kendalaOperasionalOption'></select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Tgl/Jam Mulai Pandu</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglMulaiPandu" data-date-format="dd-mm-yyyy" options="options" date="jasapandu.tglMulai" ng-model="jasapandu.tglMulai" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="timeTglmulaipandu">
						<input id="jamMulaiPanduVal" type="text" class="form-control" size="8" ng-model="jasapandu.jamMulai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" ng-change="setDefaultTglPandu()" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label"><span class="text-danger">*</span>Tgl/Jam Selesai Pandu</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglSelesaiPandu" data-date-format="dd-mm-yyyy" options="options" date="jasapandu.tglSelesai" ng-model="jasapandu.tglSelesai" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="timeTglselesaipandu">
						<input id="jamSelesaiPanduVal" type="text" class="form-control" size="8" ng-model="jasapandu.jamSelesai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default">
							<span class="fa fa-clock-o"></span>
						</span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Jam Pandu Naik</label>
				<div class="col-sm-3">
					<div class="input-group" id="timePandujamnaik">
						<input id="jamNaikPanduVal" type="text" class="form-control" size="8" ng-model="jasapandu.jamNaik" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Jam Kapal Bergerak</label>
				<div class="col-sm-3">
					<div class="input-group" id="timePandujamkapalbergerak">
						<input id="jamGerakPanduVal" type="text" class="form-control" size="8" ng-model="jasapandu.jamKapalGerak" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Jam Pandu Turun</label>
				<div class="col-sm-3">
					<div class="input-group" id="timePandujamturun">
						<input id="jamTurunPanduVal" type="text" class="form-control" size="8" ng-model="jasapandu.jamTurun" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-7">
					<button type="button" class="btn btn-default" ng-click="resetPandu()">Reset</button>
					<button type="button" class="btn btn-primary" ng-if="editForm == false" ng-disabled="!permohonanPanduForm.$valid" ng-click="submitPandutoGrid()">Simpan</button>
					<button type="button" class="btn btn-primary" ng-if="editForm == true" ng-disabled="!permohonanPanduForm.$valid" ng-click="submitPandu()">Simpan</button>
				</div>
			</div>
		</form>
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>No. PPK Jasa</th>
					<th>Waktu Pandu</th>
					<th>Jenis Pandu</th>
					<th>Jenis Gerakan</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="itempanduPast in jasapandugridpast | toArray:false | orderBy : 'noPpkJasa'" ng-show="gridPast">
					<td>{{itempanduPast.noPpkJasa}}
						<p class="small">{{itempanduPast.namaLokasiAsal}} <span class="fa fa-long-arrow-right"></span> {{itempanduPast.namaLokasiTujuan}}</p>
					</td>
					<td>{{itempanduPast.tglPandu|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itempanduPast.jenisPanduText}}</td>
					<td>{{itempanduPast.jenisGerakanText}}</td>
					<td></td>
				</tr>
				<tr ng-repeat="itempandu in jasapandugrid">
					<td ng-if="itempandu.fake == true"><i>No. PPK Jasa</i>
						<p class="small">{{itempandu.namaLokasiAsal}} <span class="fa fa-long-arrow-right"></span> {{itempandu.namaLokasiTujuan}}</p>
					</td>
					<td ng-if="itempandu.fake == false">{{itempandu.noPpkJasa}}
						<p class="small">{{itempandu.namaLokasiAsal}} <span class="fa fa-long-arrow-right"></span> {{itempandu.namaLokasiTujuan}}</p>
					</td>
					<td>{{itempandu.tglPandu|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itempandu.jenisPanduText}}</td>
					<td>{{itempandu.jenisGerakanText}}</td>
					<td>
						<a aria-hidden="true" ng-click="editPandu(itempandu.noPpkJasa, $index)" style="cursor:pointer" type="button" class="btn btn-default btn-xs" title="Edit" ng-hide="itempandu.fake"><span class="fa fa-pencil-square-o"></span></a>
						<a ng-if="itempandu.fake == false" ng-click="deletePandu(itempandu.noPpkJasa, $index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
						<a ng-if="itempandu.fake == true" ng-click="deletePandu(null, $index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<!-- /tab 4 -->
	<!-- tab 5 -->
	<div id="tunda" role="tabpanel" class="tab-pane">
		<form class="form-horizontal" name="permohonanTundaForm">
			<div class="form-group">
				<label class="col-sm-2 control-label" for="no-12"><span class="text-danger">*</span>No. PPK Jasa</label>
				<div class="col-sm-3">
					<input type="hidden" ng-model="indexTunda">
					<input type="text" class="form-control" placeholder="No. PPK Jasa..." ng-model="jasatunda.noPpkJasa" readonly>
				</div>
			</div>

			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Lokasi Asal Tunda</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="jasatunda.lokasiAsal" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaTunda($viewValue)" data-limit="10" ng-focus="checkValue(jasatunda.lokasiAsal)" ng-blur="validationLookupAsalTunda()"
							required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Lokasi Tujuan Tunda</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="jasatunda.lokasiTujuan" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaTundaTujuan($viewValue)" data-limit="10" ng-focus="checkValue(jasatunda.lokasiTujuan)" ng-blur="validationLookupTujuanTunda()"
							required>
				</div>
			</div>
			<!--
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Tgl/Jam Disetujui</label>
				<div class="col-sm-3">
					<div pf-datepicker data-date-format="dd-mm-yyyy" options="options" date="jasatunda.tglSetuju" id="tglSetujuTunda" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamSetujuTunda">
						<input id="penetapanTundaJamSetujuVal" type="text" class="form-control" size="8" ng-model="jasatunda.jamSetuju" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
		-->
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Jenis Tunda</label>
				<div class="col-sm-6">
					<select pf-select ng-model="jasatunda.jenisTunda" ng-options="option.value as option.caption for option in jenisKegTunda" ng-change="btnKapalTundaGandeng()" required></select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Jam Kerja</label>
				<div class="col-sm-6">
					<select pf-select ng-model="jasatunda.jamKerja" ng-options="option.value as option.caption for option in jamKerja" required></select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger"></span>Catatan</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="jasatunda.catatan" maxlength="50">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Tgl/Jam Mulai Tunda</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglMulaiTunda" options="options" data-date-format="dd-mm-yyyy" date="tglMulaiTunda" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamMulaiTunda">
						<input id="jamMulaiTundaVal" type="text" class="form-control" size="8" ng-model="jamMulaiTunda" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1">
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Tgl/Jam Selesai Tunda</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglSelesaiTunda" options="options" date="jasatunda.tglSelesai" data-date-format="dd-mm-yyyy" ng-model="jasatunda.tglSelesai" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="timetundaSelesai">
						<input id="jamSelesaiTundaVal" type="text" class="form-control" size="8" ng-model="jasatunda.jamSelesai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
		     	<label class="col-sm-2 control-label" for="dokumenUpload"><span ng-show="isTundaGendong" ng-hide="!isTundaGendong" class="text-danger">*</span>Dok. Kesepakatan</label>
		       	<div class="col-sm-6">
		           <input type="file" id="file" name="file" class="form-control" file-input="uploadFile" accept="
		           .pdf,.jpg" ng-model="jasatunda.dokumen" valid-file ng-required="isTundaGendong" />
		       	</div>
		       	<a class="large info-tooltip" data-module-name="mgcrea.ngStrapDocs" ng-plunkr data-html="true" data-title="{{tooltipInfo}}" data-placement="right" bs-tooltip><i class="fa fa-question-circle fa-lg color-icon-question"></i></a>
		    </div>
			<div class="form-group">
			   	<div class="col-sm-8">
			   		<div class="col-md-6">
						<label class="control-label" for="tjn-11"><span class="text-danger">*</span>Kapal Tunda</label>
					</div>
					<div class="col-md-6">
						<a style="cursor:pointer" data-toggle="modal" data-target="#kplTundaModal" class="navbar-right">Tambah</a>
					</div>
			   		<table class="table table-striped table-bordered">
					    <thead>
					    	<tr>
					    		<th>Kode Kapal</th>
					    		<th>Nama Kapal</th>
					    		<th></th>
					    	</tr>
					    </thead>
					    <tbody>
					    	<tr ng-repeat="itemKapal in kapalTundaArray">
					    		<td>{{itemKapal.kodeKapalTunda}}</td>
					    		<td>{{itemKapal.namaKapalTunda}}</td>
			    				<td>
			    					<a ng-click="deleteKapalTundaView($index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="itemKapal.id == null"><span class="fa fa-times"></span></a>
					    			<a ng-click="deleteKapalTunda(itemKapal.id,$index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="itemKapal.id != null"><span class="fa fa-times"></span></a>
					    		</td>
					    	</tr>
					    </tbody>
					</table>
				</div>
			</div>
			<div class="form-group" ng-show="tundaGandengGrid">
			   	<div class="col-sm-8">
			   		<div class="col-md-6">
						<label class="control-label" for="tjn-11">Kapal Tunda Gandeng</label>
					</div>
					<div class="col-md-6">
						<a style="cursor:pointer" data-toggle="modal" data-target="#kplTundaGandengModal" class="navbar-right">Tambah</a>
					</div>
			   		<table class="table table-striped table-bordered">
					    <thead>
					    	<tr>
					    		<th>Lokasi Asal</th>
					    		<th>Lokasi Tujuan</th>
					    		<th>Kegiatan</th>
					    		<th>Mulai</th>
					    		<th>Selesai</th>
					    		<th></th>
					    	</tr>
					    </thead>
					    <tbody>
					    	<tr ng-repeat="itemKapal in kapalTundaGandengArray">
					    		<td>{{itemKapal.namaLokasiAwal}}</td>
					    		<td>{{itemKapal.namaLokasiTujuan}}</td>
					    		<td>{{itemKapal.jenisKegiatanText}}</td>
					    		<td>{{itemKapal.tglMulai | date : "dd-MM-yyyy HH:mm"}}</td>
					    		<td>{{itemKapal.tglSelesai | date : "dd-MM-yyyy HH:mm"}}</td>
					    		<td>
			    					<a ng-click="deleteKapalTundaGandengView($index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="itemKapal.id == null"><span class="fa fa-times"></span></a>
					    			<a ng-click="deleteKapalTundaGandeng(itemKapal.id,$index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="itemKapal.id != null"><span class="fa fa-times"></span></a>
					    		</td>
					    	</tr>
					    </tbody>
					</table>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-7">
					<button type="button" class="btn btn-default" ng-click="resetTunda()">Reset</button>
					<button type="button" class="btn btn-primary" ng-if="editForm == false" ng-disabled="!permohonanTundaForm.$valid || kapalTundaArray
					.length < 1" ng-click="submitTundatoGrid()">Simpan</button>
					<button type="button" class="btn btn-primary" ng-if="editForm == true" ng-disabled="!permohonanTundaForm.$valid || || kapalTundaArray
					.length < 1" ng-click="submitTunda()">Simpan</button>
				</div>
			</div>
		</form>
		<!-- kapal tunda -->
		<div class="modal" id="kplTundaModal" tabindex="-1" role="dialog" aria-labelledby="kpnTunda" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
							<span class="pficon pficon-close"></span>
						</button>
						<h4 class="modal-title">Tambah Kapal Tunda</h4>
					</div>
					<div class="modal-body">
						<form class="form-horizontal">
							<div class="form-group">
								<label class="col-md-3 control-label" for="no-3"><span class="text-danger">*</span>Nama Kapal</label>
						    	<div class="col-md-7">
						      		<input type="text" class="form-control" name="namaKapalTunda" ng-model="kapalTunda.kapal" bs-typeahead bs-options="alatapung.nama for alatapung in getListOfAlatApungTunda($viewValue)" ng-focus="checkValue(kapalTunda.kapal)"
						      		ng-blur="validationLookupKapalTunda()" data-limit="10" required>
						    	</div>
						  	</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Batal</button>
						<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submitKapalTunda()">Simpan</button>
					</div>
				</div>
			</div>
		</div>
		<!-- kapal tunda gandeng -->
		<div class="modal" id="kplTundaGandengModal" tabindex="-1" role="dialog" aria-labelledby="kpnTundaGandeng" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
							<span class="pficon pficon-close"></span>
						</button>
						<h4 class="modal-title">Tambah Kapal Tunda Gandeng</h4>
					</div>
					<div class="modal-body">
						<form class="form-horizontal" name="KapalTundaGandengForm">
							<div class="form-group">
								<label class="col-md-3 control-label" for="no-3"><span class="text-danger">*</span>Lokasi Asal</label>
						    	<div class="col-md-7">
						    		<input type="text" name="lokasilAsalTunda" class="form-control" ng-model="kapalTundaGandeng.namaLokasiAsal" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaTunda($viewValue)" data-limit="10" ng-focus="checkValue(kapalTundaGandeng.namaLokasiAsal)" ng-blur="validationLookupTundaGandengAsal()" required>
						    	</div>
						  	</div>
						  	<div class="form-group">
								<label class="col-md-3 control-label" for="no-3"><span class="text-danger">*</span>Lokasi Tujuan</label>
						    	<div class="col-md-7">
						    		<input type="text" name="lokasilTunjuanTunda" class="form-control" ng-model="kapalTundaGandeng.namaLokasiTujuan" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaTunda($viewValue)" data-limit="10" ng-focus="checkValue(kapalTundaGandeng.namaLokasiTujuan)" ng-blur="validationLookupTundaGandengTujuan()" required>
						    	</div>
						  	</div>
						  	<div class="form-group">
								<label class="col-md-3 control-label" for="no-3"><span class="text-danger">*</span>Jenis Kegiatan</label>
						    	<div class="col-md-7">
						      		<select pf-select ng-model="kapalTundaGandeng.jenisKegiatan" ng-options="option.value as option.caption for option in jenisKegiatan" required></select>
						    	</div>
						  	</div>
						  	<div class="form-group">
						  		<label class="col-sm-3 control-label" for="nama-12"><span class="text-danger">*</span> Tgl/Jam Mulai</label>
								<div class="col-sm-3">
									<div pf-datepicker id="tglMulaiKapalTundaGandeng" options="options" date="kapalTundaGandeng.tglMulai"  data-date-format="dd-mm-yyyy" ng-model="kapalTundaGandeng.tglMulai" required> </div>
								</div>
								<div class="col-sm-3">
									<div class="input-group" id="jamKGTundaMulai">
										<input id="jamKGTundaMulaiVal" type="text" class="form-control" size="8" ng-model="kapalTundaGandeng.jamMulai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
										<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
									</div>
								</div>
						  	</div>
						  	<div class="form-group">
						  		<label class="col-sm-3 control-label" for="nama-12"><span class="text-danger">*</span> Tgl/Jam Selesai</label>
								<div class="col-sm-3">
									<div pf-datepicker id="tglSelesaiKapalTundaGandeng" options="options" date="kapalTundaGandeng.tglSelesai"  data-date-format="dd-mm-yyyy" ng-model="kapalTundaGandeng.tglSelesai" required> </div>
								</div>
								<div class="col-sm-3">
									<div class="input-group" id="jamKGTundaSelesai">
										<input id="jamKGTundaSelesaiVal" type="text" class="form-control" size="8" ng-model="kapalTundaGandeng.jamSelesai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
										<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
									</div>
								</div>
						  	</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Batal</button>
						<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submitKapalTundaGandeng()" ng-disabled="!KapalTundaGandengForm.$valid">Simpan</button>
					</div>
				</div>
			</div>
		</div>
		<!-- {{temptunda}} -->
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>No. PPK Jasa</th>
					<th>Waktu Tunda</th>
					<th>Jenis Tunda</th>
					<!-- <th>Lokasi Asal</th>
					<th>Lokasi Tujuan</th> -->
					<th>Dok. Kesepakatan</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="itemtundapast in jasatundagridpast | toArray:false | orderBy : 'noPpkJasa'" ng-show="gridPast">
					<td>{{itemtundapast.noPpkJasa}}
						<p class="small">{{itemtundapast.namaLokasiAsal}} <span class="fa fa-long-arrow-right"></span> {{itemtundapast.namaLokasiTujuan}}</p>
					</td>
					<td>{{itemtundapast.tglMulai|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itemtundapast.jenisTundaText}}</td>
					<!-- <td>{{itemtundapast.namaLokasiAsal}}</td>
					<td>{{itemtundapast.namaLokasiTujuan}}</td> -->
					<td><a href="" ng-click="buildPDF(itemtundapast.noPpkJasa)"><i class="fa fa-file-pdf-o" ng-show="itemtundapast.dokumen"></i>{{itemtundapast.dokumen}}</a></span></td>
					<td></td>
				</tr>
				<tr ng-repeat="itemtunda in jasatundagrid" >
					<td ng-if="itemtunda.fake == true"><i>No. PPK Jasa</i>
						<p class="small">{{itemtunda.namaLokasiAsal}} <span class="fa fa-long-arrow-right"></span> {{itemtunda.namaLokasiTujuan}}</p>
					</td>
					<td ng-if="itemtunda.fake == false">{{itemtunda.noPpkJasa}}
						<p class="small">{{itemtunda.namaLokasiAsal}} <span class="fa fa-long-arrow-right"></span> {{itemtunda.namaLokasiTujuan}}</p>
					</td>
					<td>{{itemtunda.tglMulai|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itemtunda.jenisTundaText}}</td>
					<!-- <td>{{itemtunda.namaLokasiAsal}}</td>
					<td>{{itemtunda.namaLokasiTujuan}}</td> -->
					<td>{{itemtunda.dokumen}}</td>
					<td>
						<a aria-hidden="true" ng-click="editTunda(itemtunda.noPpkJasa, $index)" style="cursor:pointer" type="button" class="btn btn-default btn-xs" title="Edit" ng-hide="itemtunda.fake"><span class="fa fa-pencil-square-o"></span></a>
						<a ng-if="itemtunda.fake == false" ng-click="deleteTunda(itemtunda.noPpkJasa, $index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
						<a ng-if="itemtunda.fake == true" ng-click="deleteTunda(null, $index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<!-- /tab 5 -->
	<!-- tab 6 -->
	<div id="airkapal" role="tabpanel" class="tab-pane">
		<form class="form-horizontal" name="permohonanAirKapalForm">
			<div class="form-group">
				<label class="col-sm-2 control-label" for="no-12"><span class="text-danger">*</span>No. PPK Jasa</label>
				<div class="col-sm-3">
					<input type="hidden" ng-model="indexAirKapal">
					<input type="text" class="form-control" placeholder="No. PPK Jasa..." ng-model="jasaair.noPpkJasa" readonly>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Alat Isi</label>
				<div class="col-sm-6">
					<input type="hidden" ng-model="jasaair.alatIsiText">
					<select pf-select id="alatair" ng-model="jasaair.alatIsi" ng-options='option.value as option.caption for option in alatIsiAir' ng-change="alatIsiText()" required>
					</select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-13"><span class="text-danger">*</span>Dermaga</label>
				<div class="col-sm-6">
					<input type="text" id="dermaga" class="form-control" ng-model="jasaair.dermaga" bs-typeahead bs-options="pelabuhan.mdmgNamaKode for pelabuhan in getListOfDermagaAir($viewValue)" data-limit="10" ng-focus="checkValue(jasaair.dermaga)" ng-blur="validationLookupDermagaAir()"
							required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Volume</label>
				<div class="col-sm-3">
					<input type="number" min="1" autocomplete="off" class="form-control" ng-model="jasaair.volume" disabled>
				</div>
				<div class="col-sm-4">
					<select pf-select class="col-sm-8" ng-model="jasaair.satuan" ng-options='option.value as option.caption for option in satuanAirKapal' required></select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Jam Kerja</label>
				<div class="col-sm-7">
					<select pf-select ng-model="jasaair.jamKerja" ng-options="option.value as option.caption for option in jamKerja" ng-disabled="rightReadOnly" required></select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger"></span>Catatan</label>
				<div class="col-sm-7">
					<input type="text" id="catatan2" class="form-control" maxlength="50" ng-model="jasaair.catatan">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Tgl/Jam Disetujui</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglSetujuAirKapal" options="options" data-date-format="dd-mm-yyyy" date="jasaair.tglSetuju" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamSetujujasaair">
						<input id="jamSetujujasaairVal" type="text" class="form-control" size="8" ng-model="jasaair.jamSetuju" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-12"><span class="text-danger">*</span>Tgl/Jam Mulai</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglIsiAirKapal" options="options" data-date-format="dd-mm-yyyy" date="jasaair.tglIsi" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamIsi">
						<input id="jamIsiVal" type="text" class="form-control" size="8" ng-model="jasaair.jamIsi" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" name="time2" bs-timepicker data-length="1">
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Tgl/Jam Selesai isi</label>
				<div class="col-sm-3">
					<div pf-datepicker id="tglSelesaiAirKapal" options="options" data-date-format="dd-mm-yyyy" date="jasaair.tglSelesaiIsi" required></div>
				</div>
				<div class="col-sm-3">
					<div class="input-group" id="jamSelesaiIsijasaair">
						<input id="jamSelesaiIsijasaairVal" type="text" class="form-control" size="8" ng-model="jasaair.jamSelesaiIsi" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
						<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
					</div>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-12">
					<div class="col-md-6">
						<label class="control-label" for="tjn-11"><span class="text-danger">*</span> Alat Isi</label>
					</div>
					<div class="col-md-6">
						<!-- <a style="cursor:pointer" data-toggle="modal" data-target="#alatisi" ng-click="tambahAlatIsi()" class="navbar-right">Tambah</a> -->
						<a style="cursor:pointer" data-toggle="modal" data-target="#alatisi" ng-click="tambahAlatIsi()" class="navbar-right">Tambah</a>
					</div>
					<table class="table table-striped table-bordered table-col-accordion">
						<thead>
							<tr>
								<th class="col-xs-1">Kode Alat</th>
								<th>Nama Alat Isi</th>
								<th class="col-xs-2 text-center">Tgl/Jam Mulai</th>
								<th class="col-xs-2 text-center">Tgl/Jam Selesai</th>
								<th class="col-xs-1 text-center">M. Awal</th>
								<th class="col-xs-1 text-center">M. Akhir</th>
								<th class="col-xs-1 text-center">Volume</th>
								<th class="col-xs-1 text-center"></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="item in tabelAlatIsi track by $index">
								<td>{{item.alatIsi}}</td>
								<td>{{item.alatIsiText}}</td>
								<td>{{item.tglMulaiIsi | date: "dd-MM-yyyy HH:mm"}}</td>
								<td>{{item.tglSelesaiIsi | date: "dd-MM-yyyy HH:mm"}}</td>
								<td>{{item.meteranAwal}}</td>
								<td>{{item.meteranAkhir}}</td>
								<td>{{item.volume}}</td>
								<td class="text-center">
						      	<!-- <a data-toggle="modal" data-target="#alatisiedit" style="cursor:pointer" ng-click="editAlatIsi(item.id, $index)" type="button" class="btn btn-default btn-xs" title="Edit" ng-if="item.id != null"><span class="fa fa-pencil-square-o"></span></a> -->
						  			<a ng-click="deleteAlatIsiView($index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="item.id == null"><span class="fa fa-times"></span></a>
					    			<!-- <a ng-click="deleteAlatIsi(item.id,$index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="item.id != null"><span class="fa fa-times"></span></a> -->
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-12">
					<div class="col-md-6">
						<label class="control-label navbar-left" for="tjn-11"><span class="text-danger"></span>Kapal Penunjang</label>
					</div>
					<div class="col-md-6">
						<a style="cursor:pointer" data-toggle="modal" data-target="#kapalpenunjang" ng-click="tambahKapalPenunjang()" class="navbar-right">Tambah</a>
					</div>
					<table class="table table-striped table-bordered table-col-accordion">
						<thead>
							<tr>
								<th class="col-xs-2">Kode Kapal</th>
								<th >Nama Kapal</th>
								<th class="col-xs-2 text-center">Tgl/Jam Mulai</th>
								<th class="col-xs-2 text-center">Tgl/Jam Selesai</th>
								<th class="col-xs-1 text-center">Action</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="item in tabelKapalPenunjang track by $index">
								<td>{{item.kapal}}</td>
								<td>{{item.kapalText}}</td>
								<td>{{item.tglMulaiIsi | date: "dd-MM-yyyy HH:mm"}}</td>
								<td>{{item.tglSelesaiIsi | date: "dd-MM-yyyy HH:mm"}}</td>
								<td class="text-center">
						      	<!-- <a data-toggle="modal" data-target="#kapalpenunjangedit" style="cursor:pointer" ng-click="editKapalPenunjang(item.id)" type="button" class="btn btn-default btn-xs" title="Edit" ng-if="item.id != null"><span class="fa fa-pencil-square-o"></span></a> -->
						  			<a ng-click="deleteKapalPenunjangView($index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="item.id == null"><span class="fa fa-times"></span></a>
					    			<!-- <a ng-click="deleteKapalPenunjang(item.id)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete" ng-if="item.id != null"><span class="fa fa-times"></span></a> -->
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-7">
					<button type="button" class="btn btn-default" ng-click="resetAirKapal()">Reset</button>
					<button type="button" class="btn btn-primary" ng-if="editForm == false" ng-disabled="!permohonanAirKapalForm.$valid" ng-click="submitAirKapaltoGrid()">Simpan</button>
					<button type="button" class="btn btn-primary" ng-if="editForm == true" ng-disabled="!permohonanAirKapalForm.$valid" ng-click="submitAirKapal()">Simpan</button>
				</div>
			</div>
		</form>
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>No. PPK Jasa</th>
					<th>Alat Isi</th>
					<th>Dermaga</th>
					<th>Tgl/Jam Mulai</th>
					<th>Volume</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="itemairpast in jasaairgridpast | toArray:false | orderBy : 'noPpkJasa'" ng-show="gridPast">
					<td>{{itemairpast.noPpkJasa}}</td>
					<td>{{itemairpast.alatIsiText}}</td>
					<td>{{itemairpast.namaDermaga}}</td>
					<td>{{itemairpast.tglIsi|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itemairpast.volume}}</td>
					<td></td>
				</tr>
				<tr ng-repeat="itemair in jasaairgrid">
					<td ng-if="itemair.fake == true"><i>No. PPK Jasa</i></td>
					<td ng-if="itemair.fake == false">{{itemair.noPpkJasa}}</td>
					<td>{{itemair.alatIsiText}}</td>
					<td>{{itemair.namaDermaga}}</td>
					<td>{{itemair.tglIsi|date: "dd-MM-yyyy HH:mm"}}</td>
					<td>{{itemair.volume}}</td>
					<td>
						<a aria-hidden="true" ng-click="editAirKapal(itemair.noPpkJasa, $index)" style="cursor:pointer" type="button" class="btn btn-default btn-xs" title="Edit" ng-hide="itemair.fake"><span class="fa fa-pencil-square-o"></span></a>
						<a ng-if="itemair.fake == false" ng-click="deleteAirKapal(itemair.noPpkJasa,$index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
						<a ng-if="itemair.fake == true" ng-click="deleteAirKapal(null,$index)" aria-hidden="true" style="cursor:pointer" type="button" class="btn btn-danger btn-xs" title="Delete"><span class="fa fa-times"></span></a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<!-- modal alat isi baru -->
	<div class="modal" id="alatisi" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						<span class="pficon pficon-close"></span>
					</button>
					<h4 class="modal-title" id="myModalLabel">Alat Isi Baru</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal" name="NewAlatIsiForm">
						<div class="form-group">
							<label class="col-sm-3 control-label" for="textInput-modal-markup"><span class="text-danger">*</span>Nama Alat Isi</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" ng-model="tempNewAlatIsi.alatIsiAir" bs-typeahead bs-options="alatIsi.caption for alatIsi in alatIsiAir" ng-focus="checkValue(tempNewAlatIsi.alatIsiAir)" ng-blur="validationLookupNewAlatIsi()" required>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="textInput2-modal-markup"><span class="text-danger">*</span>Tgl Jam Mulai</label>
							<div class="col-sm-4">
								<div pf-datepicker id="tglMulaiNewAlatIsi" options="options" data-date-format="dd-mm-yyyy" date="tempNewAlatIsi.tglMulai" required></div>
							</div>
							<div class="col-sm-4">
								<div class="input-group" id="jamMulaiTambahAlatIsi">
									<input id="jamMulaiTambahAlatIsiVal" type="text" class="form-control" size="8" ng-model="tempNewAlatIsi.jamMulai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
									<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="textInput2-modal-markup"><span class="text-danger">*</span>Tgl Jam Selesai</label>
							<div class="col-sm-4">
								<div pf-datepicker  id="tglSelesaiNewAlatIsi" data-date-format="dd-mm-yyyy" options="options" date="tempNewAlatIsi.tglSelesai" required></div>
							</div>
							<div class="col-sm-4">
								<div class="input-group" id="jamSelesaiTambahAlatIsi">
									<input id="jamSelesaiTambahAlatIsiVal" type="text" class="form-control" size="8" ng-model="tempNewAlatIsi.jamSelesai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
									<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="textInput3-modal-markup"><span class="text-danger">*</span>M. Awal</label>
							<div class="col-sm-8">
								<input type="number" min="0" class="form-control" ng-model="tempNewAlatIsi.mAwal" required>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="textInput3-modal-markup"><span class="text-danger">*</span>M. Akhir</label>
							<div class="col-sm-8">
								<input type="number" min="0" class="form-control" ng-model="tempNewAlatIsi.mAkhir" required>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Batal</button>
					<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submitAlatIsiBaru()" ng-show="NewAlatIsiForm.$valid">Simpan</button>
				</div>
			</div>
		</div>
	</div>
	<!-- /modal alat isi baru/ -->
	<!-- modal kapal baru -->
	<div class="modal" id="kapalpenunjang" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						<span class="pficon pficon-close"></span>
					</button>
					<h4 class="modal-title" id="myModalLabel">Kapal Penunjang Baru</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal" name="newKapalPenunjangForm">
						<div class="form-group">
							<label class="col-sm-3 control-label" for="textInput-modal-markup"><span class="text-danger">*</span>Nama Kapal</label>
							<div class="col-sm-8">
								<input type="text" name="namaKapal" class="form-control" ng-model="tempNewKapalPenunjang.kapalPenunjang" bs-typeahead bs-options="alatapung.nama for alatapung in getListOfAlatApung($viewValue)" data-limit="10" ng-focus="checkValue(tempNewKapalPenunjang.kapalPenunjang)" ng-blur="validationLookupNewAlatApung()" required>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="textInput2-modal-markup"><span class="text-danger">*</span>Tgl Jam Mulai</label>
							<div class="col-sm-4">
								<div pf-datepicker id="tglMulaiNewKapalPenunjang" options="options" data-date-format="dd-mm-yyyy" date="tempNewKapalPenunjang.tglMulai" required></div>
							</div>
							<div class="col-sm-4">
								<div class="input-group" id="jamMulaiTambahKapalPenunjang">
									<input id="jamMulaiTambahKapalPenunjangVal" type="text" class="form-control" size="8" ng-model="tempNewKapalPenunjang.jamMulaiIsi" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
									<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label" for="textInput2-modal-markup"><span class="text-danger">*</span>Tgl Jam Selesai</label>
							<div class="col-sm-4">
								<div pf-datepicker id="tglSelesaiNewKapalPenunjang" options="options" data-date-format="dd-mm-yyyy" date="tempNewKapalPenunjang.tglSelesai" required></div>
							</div>
							<div class="col-sm-4">
								<div class="input-group" id="jamSelesaiTambahKapalPenunjang">
									<input id="jamSelesaiTambahKapalPenunjangVal" type="text" class="form-control" size="8" ng-model="tempNewKapalPenunjang.jamSelesai" data-time-format="HH:mm" data-time-type="string" data-autoclose="1" bs-timepicker data-length="1" required>
									<span class="input-group-addon btn btn-default"><span class="fa fa-clock-o"></span></span>
								</div>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Batal</button>
					<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submitKapalPenunjangBaru()" ng-show="newKapalPenunjangForm.$valid">Simpan</button>
				</div>
			</div>
		</div>
	</div>
	<!-- /modal kapal baru/ -->
	<!-- /tab 6 -->
	<!-- tab 1 -->
	<div role="tabpanel" class="tab-pane active" id="permohonan">
		<form class="form-horizontal" name="permohonanForm">
			<div class="form-group">
				<label class="col-sm-2 control-label"></label>
				<div class="col-sm-3">
					<label class="control-label cursor-pointer"><input type="checkbox" ng-model="inputTambahJasa" class="cursor-pointer" ng-disabled="newJasaSaved == true || newJasaSavedFromKapal==true">   Ada No PPK1?</label>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="no-11">ID Visit</label>
			    <div class="col-sm-3">
			      	<input type="text" class="form-control" placeholder="No. ID Visit..." ng-model="permohonan.idVisit" readonly>
			    </div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="no-11"><span class="text-danger">*</span>No. PPK1</label>
				<div class="col-sm-3">
					<input type="text" id="no-11" class="form-control" placeholder="No. PPK1..."  ng-model="permohonan" ng-blur="validationLookupPpk1()" bs-typeahead bs-options="listPpk1.noPpk1 for listPpk1 in getListPpk1($viewValue)" data-limit="10" ng-disabled="!inputTambahJasa || afterSubmit">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="nama-11"><span class="text-danger">*</span>Nama Kapal</label>
				<div class="col-sm-6">
					<input type="text" id="nama-11" class="form-control" ng-model="valueKapal" bs-typeahead bs-options="kapal.mkplNamaLoa for kapal in getListKapal($viewValue)" data-limit="10" ng-disabled="inputTambahJasa || afterSubmit"
						ng-blur="validationLookupKapal()" ng-show="!inputTambahJasa">
					<input type="text" class="form-control" ng-model="permohonan.namaKapal"  ng-disabled="inputTambahJasa" ng-show="inputTambahJasa">
				</div>
			</div>
			<div class="form-group">
			    <label class="col-sm-2 control-label">Info Kapal</label>
				<div class="col-sm-6">
					<div class="row">
				 		<div class="col-sm-3">Kode Kapal </div>
				    	<div class="col-sm-3 font-bold">: {{permohonan.kodeKapal?permohonan.kodeKapal:'-'}}</div>
				    	<div class="col-sm-3">Jenis Kapal </div>
				    	<div class="col-sm-3 font-bold">: {{permohonan.jenisKapal?permohonan.jenisKapal:'-'}}</div>
				    </div>
			    	<div class="row">
				    	<div class="col-sm-3">Bendera </div>
				    	<div class="col-sm-3 font-bold">: {{permohonan.negaraKapal?permohonan.negaraKapal:'-'}}</div>
				    	<div class="col-sm-3">LOA </div>
				    	<div class="col-sm-3 font-bold">: {{permohonan.loa?(permohonan.loa | number):'-'}}</div>
				    </div>
				    <div class="row">
				    	<div class="col-sm-3">Call Sign </div>
				    	<div class="col-sm-3 font-bold">: {{permohonan.callSign?permohonan.callSign:'-'}}</div>
				    	<div class="col-sm-3">GT </div>
				    	<div class="col-sm-3 font-bold">: {{permohonan.gtKapal?(permohonan.gtKapal| number):'-' }}</div>
				    </div>
			    </div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="agen-11"><span class="text-danger">*</span>Agen Pelayaran</label>
				<div class="col-sm-6">
					<input type="text" id="agen-11" class="form-control" ng-model="permohonan.namaAgen" bs-typeahead bs-options="agenKapal.mplgNamaKode for agenKapal in getListOfAgenKapal($viewValue)" data-limit="10" ng-disabled="inputTambahJasa || afterSubmit" ng-focus="checkValue(permohonan.namaAgen)" ng-blur="validationLookupAgen()" required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="brngk-11"><span class="text-danger">*</span>Berangkat dari</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="permohonan.namaPelabuhanAsal" bs-typeahead bs-options="pelabuhan.mkplNamaPlb for pelabuhan in getListOfPelabuhan($viewValue)" data-limit="10" ng-disabled="inputTambahJasa || afterSubmit || agentChanged"	ng-focus="checkValue(permohonan.namaPelabuhanAsal)" ng-blur="validationLookupAsal()" required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Tujuan</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="permohonan.namaPelabuhanTujuan" bs-typeahead bs-options="pelabuhan.mkplNamaPlb for pelabuhan in getListOfPelabuhanTujuan($viewValue)" data-limit="10" ng-disabled="inputTambahJasa || afterSubmit || agentChanged" ng-focus="checkValue(permohonan.namaPelabuhanTujuan)" ng-blur="validationLookupTujuan()" required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11"><span class="text-danger">*</span>Sifat Kunjungan</label>
				<div class="col-sm-6">
					<select pf-select ng-model="permohonan.sifatKunjungan" ng-options='option.value as option.caption for option in sifatKunjungan' ng-disabled="inputTambahJasa || afterSubmit || agentChanged" required>
					</select>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label">Rencana Bongkar</label>
				<div class="col-sm-4">
					<div class="form-group">
						<label class="col-sm-3 control-label">Kemasan:</label>
						<div class="col-sm-3">
							<select pf-select ng-model="permohonan.kemasanBongkar" ng-options='option.value as option.caption for option in kemasan' ng-disabled="inputTambahJasa ||  afterSubmit || agentChanged">
							</select>
						</div>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="form-group">
						<label class="col-sm-2 control-label"> Jumlah:</label>
						<div class="col-sm-10">
							<input type="number" class="col-sm-4" ng-model="permohonan.jumlahBongkar" ng-disabled="inputTambahJasa || afterSubmit || agentChanged" min="1" autocomplete="off">
						    <div>
					    		<select pf-select class="col-sm-8" ng-model="permohonan.satuanBongkar" ng-options='option.value as option.caption for option in satuan' ng-disabled="permohonan.jumlahBongkar == undefined || afterSubmit || agentChanged" ng-required="permohonan.jumlahBongkar">
                    			</select>
					    	</div>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-2 control-label" for="tjn-11">Rencana Muat</label>
				<div class="col-sm-4">
					<div class="form-group">
						<label class="col-sm-3 control-label">Kemasan:</label>
						<div class="col-sm-3">
							<select pf-select ng-model="permohonan.kemasanMuat" ng-options='option.value as option.caption for option in kemasan' ng-disabled="inputTambahJasa || afterSubmit || agentChanged">
							</select>
						</div>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="form-group">
						<label class="col-sm-2 control-label"> Jumlah:</label>
						<div class="col-sm-10">
							<input type="number" class="col-sm-4" ng-model="permohonan.jumlahMuat" ng-disabled="inputTambahJasa || afterSubmit || agentChanged" min="1" autocomplete="off">
						    <div>
					    		<select pf-select class="col-sm-8" ng-model="permohonan.satuanMuat" ng-options='option.value as option.caption for option in satuan' ng-disabled="permohonan.jumlahMuat == undefined || afterSubmit || agentChanged" ng-required="permohonan.jumlahMuat">
                    			</select>
					    	</div>
						</div>
					</div>
				</div>
			</div>
			<hr>
			<div class="form-group" ng-if="inputTambahJasa == false">
				<div class="col-sm-offset-5 col-sm-6 navbar-right">
					<button type="button" class="btn btn-primary btn-lg" ng-click="submit()" ng-disabled="!permohonanForm.$valid" ng-if="btnSubmit==true" ng-hide="afterSubmit">Simpan</button>
					<button type="button" class="btn btn-primary btn-lg" ng-disabled="!permohonanForm.$valid" ng-click="update()" ng-if="btnSubmit==false">Update</button>
				</div>
			</div>
		</form>
	</div>
	<!-- /tab 1 -->
</div>

</div>
<div class="modal" id="kplGadengModal" tabindex="-1" role="dialog" aria-labelledby="epbLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					<span class="pficon pficon-close"></span>
				</button>
				<h4 class="modal-title">Tambah Kapal Gandeng</h4>
			</div>
			<div class="modal-body">
				<form class="form-horizontal" name="kapalGandengForm">
					<div class="form-group">
						<label class="col-md-3 control-label" for="no-3"><span class="text-danger">*</span>No. PPK1</label>
						<div class="col-md-7">
							<!-- <input type="text" id="no-3" class="form-control" name="namaKapalGandeng" ng-model="kapalGandeng.kapal" bs-typeahead bs-options="kapal.mkplNama for kapal in getListKapal($viewValue)" data-limit="10" ng-focus="checkValue(kapalGandeng.kapal)" ng-blur="validationLookupKapalGandeng()" required> -->
							<input type="text" class="form-control" ng-model="kapalGandeng.kapal" ng-changed="validationLookupPpk1Gandeng()" bs-typeahead bs-options="listPpk1.itemPpk1TK for listPpk1 in getListPpk1Gandeng($viewValue)" data-limit="10" required>
						</div>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Batal</button>
				<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submitKapalGandeng()" ng-disabled="!kapalGandengForm.$valid"   onclick="$('.modal').modal('hide')">Simpan</button>
			</div>
		</div>
	</div>
</div>

<!-- start modal konfirmasi loa pandu -->
<div class="modal" id="ConfirmLoaJasaPandu" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					<span class="pficon pficon-close"></span>
				</button>
				<h4 class="modal-title" id="myModalLabel">Informasi Loa Kapal</h4>
			</div>

			<div class="modal-body">
				<p ng-if="loaMax == false">Kapal <b>{{permohonan.namaKapal}}</b> memiliki panjang <b>{{permohonan.loa}}</b> meter, silahkan masukkan info Tunda.
				<br><br>Kode validasi: <b>VALPMH-011</b></p>
				<p ng-if="loaMax == true">Kapal <b>{{permohonan.namaKapal}}</b> memiliki Kapal Gandeng dengan LOA lebih dari 70 yaitu <b>{{loaMaxvalue}}</b> meter, silahkan masukkan info <b>Jasa Tunda</b>.<br><br>Kode validasi: <b>VALPMH-011</b></p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="openTab(event, 'tunda')">Ya</button>
			</div>
		</div>
	</div>
</div>
<!-- end modal konfirmasi loa pandu -->

<!-- start modal Check Lock Agen -->
<div class="modal" id="modalCheckLockAgen" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      	<div class="modal-content">
         	<div class="modal-header">
            	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
               	<span class="pficon pficon-close"></span>
            	</button>
            	<h4 class="modal-title" id="myModalLabel">Informasi Agen Pelayaran</h4>
         	</div>
         	<div class="modal-body">
				<p><span>{{edescription}}</span>
				<br><br>Kode validasi: <b>VALPMH-021</b></p>
			</div>
         	<div class="modal-footer">
            	<button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
         	</div>
      	</div>
   	</div>
</div>
<!-- end modal Check Lock Agen -->
<script type="text/javascript">
	$(document).ready(function() {
		document.getElementById('permohonan').style.display = "block";
	});

	function openTab(evt, jenisJasa) {
		var i, tabcontent, tablinks;
		tabcontent = document.getElementsByClassName("tab-pane");
		for (i = 0; i < tabcontent.length; i++) {
			tabcontent[i].style.display = "none";
		}
		tablinks = document.getElementsByClassName("tablinks");
		for (i = 0; i < tablinks.length; i++) {
			tablinks[i].className = tablinks[i].className.replace(" active", "");
		}
		menuJasa = document.getElementsByClassName("menu-jasa");
		for (i = 0; i < menuJasa.length; i++) {
			menuJasa[i].className = menuJasa[i].className.replace(" active", "");
		}
		document.getElementById(jenisJasa).style.display = "block";
		evt.currentTarget.className += " active";
		$('.tab-' + jenisJasa).addClass("active");
	}
	$('#jamTurunPanduVal').mask('99:99');
	$('#jamGerakPanduVal').mask('99:99');
	$('#jamNaikPanduVal').mask('99:99');
	$('#jamSelesaiPanduVal').mask('99:99');
	$('#jamMulaiPanduVal').mask('99:99');
	$('#penetapanPanduJamSetujuVal').mask('99:99');
	$('#penetapanTambatJamSetujuVal').mask('99:99');
	$('#jamMasukVal').mask('99:99');
	$('#jamKeluarVal').mask('99:99');
	$('#jamMulaiTambatVal').mask('99:99');
	$('#jamSelesaiTambatVal').mask('99:99');
	$('#jamPanduVal').mask('99:99');
	$('#jamMulaiTundaVal').mask('99:99');
	$('#jamIsiVal').mask('99:99');
	$('#penetapanTundaJamSetujuVal').mask('99:99');
	$('#jamSelesaiTundaVal').mask('99:99');
	$('#jamSetujujasaairVal').mask('99:99');
	$('#jamSelesaiIsijasaairVal').mask('99:99');
	$('#jamMulaiTambahAlatIsiVal').mask('99:99');
	$('#jamSelesaiTambahAlatIsiVal').mask('99:99');
	$('#jamMulaiTambahKapalPenunjangVal').mask('99:99');
	$('#jamSelesaiTambahKapalPenunjangVal').mask('99:99');

	$("#jenisGerakan").attr("disabled", true);

	$('#labuhTglMasuk').mask('99-99-9999');
	$('#labuhTglKeluar').mask('99-99-9999');
	$('#tglPandu').mask('99-99-9999');
	$('#tglMulaiTunda').mask('99-99-9999');
	$('#tglIsiAirKapal').mask('99-99-9999');
	$('#tglMulaiTambat').mask('99-99-9999');
	$('#tglSelesaiTambat').mask('99-99-9999');
</script>
